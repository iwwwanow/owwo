# 08.02

- deepseek нагенерил мне бодрую архитектуру. её и заюзать

- TODO поменять сборку образа system - сделать доступ только по ключу

- переменная uploads_path используется и при сборке образа докер и при запуске приложения bun

- что должен делать докер?

1. докер для хранения файлов и контроля подключений по ssh

2. докер с кодом сайта

- начну с него
- [x] - сборка
- [x] - перемещение собранных файлов в образ
- [ ] - чтение файлов каталоге
  - откуда брать путь до каталога для чтения?
  - из докер-компоуза
- [ ] - single file binary executable

# 05.02

- сайт будет генерировать статику из папок. покачто буду делать без бд
- в контейнере это будет выглядеть вот так:
  src/ (код самого сайта)
  uploads/ (все файлы пользователя)
  cache/ (при запросах с клиента будут создаваться ресайзы и кэшироваться)
  - хочу сделать кэш html. проверять параметры запроса. проверять дату последнего изменения директории. если по параметрам проходим - отправлять закэшированную страницу
- один пользователь на сайте - один пользователь в linux-системе в контейнере. с правами на запись и чтение только в своей директори
- при подключении через ssh к этому контейру, пользователь попадает только в свою директорию.
  - можно ли сделать так, чтобы другие директори пользователь не мог даже просматривать? или наоборот лучше сделать всю базу открытой? ну а например env-файлы?
- все будет 2 вида - файл и папка. (node-page и node-extended-page сooтветственно)
- uploads будет выглядеть вот так:
  - # - зарезервированные имена - типа #avatar, #cover, #meta и тд
  - \_ - файлы, к которым сможем получить доступ по айпи, типа \_some-image-name.jpg. доступ по айпи будет только через ключ, который задается при запуске сайта в env-переменной. либо если переменной нет - она генерируется на ходу и оповещает пользователя
  - все остальные файлы будут падать в список внизу страницы
  - uploads/
    - #index/ (фиксированная страница)
      - #index.html
    - #about/ (фиксированная страница)
      - #index.html (встраивается не во всю страницу)
    - effectivanayarabota1/ (username)
      - # index.md (html, txt) - этого файла в оригинале не будет, размещаю его здесь для примера
      - #avatar.gif / #cover.gif - оба имени подойдут (приоритет у avatar)
      - #meta.json
      - way-to-the-temple/
        - #index.md (в макете запрашивать изображения. будет ли рабоать относительный путь - /#some-image-1.jpg)
          - как запрашивать закэшированные изображения? нужно в пути запроса менять путь uploads на cache
        - #cover.gif
        - #meta.json
        - #style.css
        - #scrint.js
        - #some-image-1.jpg (доступно только для запросов из index.md. не доступно через api. не доступно для просмотра в списке это должно быть чтото в настройках CORS?)
        - #some-image-2.png - аналогично ^
        - #some-image-3.png - аналогично ^
      - photos/ (фотографии/ - как сделать кириллицу в путях?)
        - #meta.json
        - some-photo-1.png - отображается в списке и все
        - some-photo-2.png - аналогично
        - some-photo-3.png - аналогично
- meta.json будет иметь такие поля:
  - title?: string
  - description?: string (markdown accepted. может быть ограничить стили. чтобы h1 был как h5. слишком жирные заголовки в description не нужны)
  - ? isFullSize?: boolean = false (for index.html)
  - order?: Array<string> (filenames in order). files, whos not included in that list - continues standart name ordering
  - showDates?: boolean = true (show last date an publish date. get that info from file or directory meta info)
  - showFiles?: boolean = true (show files in grod; it steel accessed from api)

# 05.02

- [ ] - покачто обходись без логина и без БД. весь функционал на FS
- [ ] - перенести компоненты на jsx
- [ ] - рендер контента настроить из папки, находящейся радом с src-директорией проекта
- [ ] - сделать так, чтобы к этой директории можно было бы подключаться по ssh
- [ ] - сделать редактор текста, как в ГХ
- [ ] - папка с кэшем рядом с папкой uploads
- [ ] - кэш генерируется при запросах

# 04.02

- проверят работоспособность jsx
- переформулировал задачи для конечную цель

# 03.02

- работаю над index page, внутренновтями. header & footer - сделал

# 02.02

- не получиется разбирать пропсы при помощи фигурных скобок. нужно разбирать через обычные объекты + фоллбэки где нужно. правлю indexPage

# 01.02

- [ ] - editor form to fragments
- остановился на node-link\_\_container
- нужно вложить parts внутрь

# 30.01

- можно из компонентов экспоритировать или props или dto - так будет намного проще повесить тип на экспоритруемые переменные

# 29.01

- разнес компоненты по персональным папкам.
- сделать в остальных templates-директориях по аналогии
- сделать реекспорты через индекс
- описать типы

# 28.01

- [ ] - распределить компоненты по персональным директориям. кажется изза этого отваливатсся ts в шаблонах

# 26.01

- [ ] - занимайся pages
- в declare у каждой страницы и у каждого компонента поместить требуемые для этой движухи пропсы

# 25.01

- вот нахуй тебе эти форки. сохранил исодники и этого вполне достаточно сейчас.
- [ ] - удали форки, перемести зависимости на node_modules

- [ ] - проверяй страницы поочереди. кажется, занимался типами
- [ ] - посмотри, какие оставлял в прошлом тудушки

- svelte решил оставить собранный, вытащил его из node_modules.
- исходный код находится в forks
- TODO разобраться со сборкой svelte. переписать её на bun-build

# 23.01

- сделать сборку свелка через bun
- сделать сборку через рутовый скрипт
- поэтапно иди вдоль конфига rollup и переписывай функции под родной, бановский сборщик

# 22.01

- при форке свелта отвалились зависимости
- нужно либо поправить пути до этих зависимостей (используется оносительный путь)
- либо переместить пакеты в директорию со свелтом
- изза этого не могу собрать svelte

# 21.01

- [x] - форкнуть svelte

# 20.01

- занимаюсь svelte.plugin.ts
- обрабатывать preloaderом на уровне планига
- выходное значение отправлять объектом, аналогичным текущему

- ! перед тем, как забросить код в компайлер, он должен пройти этап препроцесса и только затем compile

# 18.01

- подключаю typescript в шаблоны - https://github.com/sveltejs/svelte/blob/v3.59.2/site/content/docs/05-compile-time.md#sveltepreprocess
- не трать на это много времени. если не получился, шаблоны делай без типов.

- [ ] - прописать типы для пропсов для svelte-pages
- [ ] - прописать типы для пропсов для view-port

- [ ] - text in about
- [ ] - отвалились стили на node-extended-page
- [ ] - отвалились стили в node-description

# 17.01

- по работе много задач сделал
- занимался картиной
- на owwo времени не оставалось
- думал над тем, как писать именно этот проект. может иметт смысл брать его с наскока?

- [ ] - прописать типы для пропсов для svelte-pages
- [ ] - прописать типы для пропсов для view-port

- [ ] - text in about
- [ ] - отвалились стили на node-extended-page
- [ ] - отвалились стили в node-description

- [x] - заменить блобы. на json-placeholdres. желательно сделать с разными фонами, но в единой цветовой гамме
- [x] - переношу tests в core
- [ ] - проверить остальные страницы
  - [x] - index
  - [x] - login
    - делай по аналогии с indexPage. все готово
  - [x] - signup
  - [x] - about
  - [x] - user-profile
  - [x] - node
  - [x] - node-extended
- [ ] - прописать типы для пропсов для svelte-pages
- [ ] - прописать типы для пропсов для view-port

# 12.01

- [x] - заменить блобы. на json-placeholdres. желательно сделать с разными фонами, но в единой цветовой гамме
- [x] - переношу tests в core
- [ ] - проверить остальные страницы
  - [x] - index
  - [ ] - login
    - делай по аналогии с indexPage. все готово
  - [ ] - signup
  - [ ] - about
  - [ ] - user-profile
  - [ ] - node
  - [ ] - node-extended
- [ ] - прописать типы для пропсов для svelte-pages

# 11.01

- [x] - подключить puglic стили
- [ ] - проверить остальные страницы
- [ ] - прописать типы для пропсов для svelte-pages

# 10.01

TODO

- сейчас импортирую tests прямо в core. нужно поправить этот момент
- core не должен ни от чего зависеть

# 09.01

- [x] - перенести interfaces и constants в core. сейчас это все в персональных компонентах
- [x] - импортировать это все в tests, в частности - mocks
- [ ] - запросить эти mocks в компоненты с уровня core
- [ ] - изменить нейминги у node image в constants. Enum.EnumValue
- [ ] - провести типы в svelte-adapter-templates

- TODO - перенести пробрасывание моков на уровень core. может быть с включенным флагом - LAYOUT - test

# 08.01

- [ ] - к страницe провести необходимые пропсы, ts
- [ ] - для передачи объектов между уровнями - нужно создать DTO
- [ ] - для шаблонов провести типы. svelte хавает типы

- [x] - rewriter-service (naming)
- [ ] - use-cases on core-application
  - нужно както сделать активацию юс-кейса через евент
  - евент должен активировать модуль, отвечающий за входящие данные. в моем случае - это http-server

- [ ] - make page props optional
- [ ] - подключить остальные роуты
  - для проверки роутов нужны моки. добавить их в shared
- [ ] - подключить статический роут

- [ ] - инициализация - один метод
- [ ] - connect modules - другой метод
  - connect('moduleName', module)
  - connect('moduleName', module)
  - connect('moduleName', module)

# 07.01

- [ ] - make page props optional
- [ ] - подключить остальные роуты
- [ ] - подключить статику

- [ ] - инициализация - один метод
- [ ] - connect modules - другой метод
  - connect('moduleName', module)
  - connect('moduleName', module)
  - connect('moduleName', module)

# 06.01

- занимался рефактором rewriter
- [ ] - опробовать rewriter

# 05.12

- в этом коммите есть компоненты svelte
  https://github.com/kirill-ivanovvv/owwo/tree/53d7611b442bd86027137c817fd8b952daea3095

- [ ] - опробовать rewriter
- [x] - вынести append-функции во вложенные файлы
  - setters - не подойдет?

# 04.12

- с типами разобрался
- https://github.com/kirill-ivanovvv/bun-template-engine

- [ ] - посмотри, как сдела bte
- [ ] - обернуть в layout
- [ ] - скопировать страницы со старых коммитов
- [ ] - сделать типизацию для страниц

# 03.12

- не понимаю через какой метод закидывать view context в svelte-adapter - через init или constructor?
- [ ] - error handing https://bun.sh/docs/api/http#error-callback

# 02.12

- [x] - tsc
- [x] - приступай к view

# 01.12

- [x] - добавить error-handlers
- [x] - добавить обязательный параметр при инициализации адаптера.
- [x] - internal-server-error & not-found-error - сделать обязательными
- [x] - остальные опциональные
- [x] - функция для поиска ошибок
